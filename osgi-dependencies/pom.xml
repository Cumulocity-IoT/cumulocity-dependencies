<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <artifactId>cumulocity-dependencies</artifactId>
        <groupId>com.nsn.cumulocity.dependencies</groupId>
        <version>0.13.1</version>
    </parent>

    <groupId>com.nsn.cumulocity.dependencies.osgi</groupId>
    <artifactId>osgi-dependencies</artifactId>
    <packaging>pom</packaging>
    <name>Cumulocity Dependencies :: OSGi Dependencies</name>

    <modules>
        <module>activation</module>
        <module>mail</module>
        <module>asm</module>
        <module>stax-api</module>
        <module>jaxb-api</module>
        <module>commons-codec</module>
        <module>commons-httpclient</module>
        <module>commons-configuration</module>
        <module>antlr</module>
        <module>stringtemplate</module>
        <module>antlr-runtime</module>
        <module>cglib-nodep</module>
        <module>esper</module>
        <module>svenson</module>
        <module>jersey-core</module>
        <module>jersey-server</module>
        <module>jersey-client</module>
        <module>jersey-apache-client</module>
        <module>aspectjrt</module>
        <module>aspectjweaver</module>
        <module>httpcore</module>
        <module>httpclient</module>
        <module>log4j-extras</module>
        <module>jcouchdb</module>
        <module>ektorp</module>
        <module>liquibase-core</module>
        <module>postgresql-connector</module>
        <module>dozer</module>
        <module>inject</module>
        <module>collections-generic</module>
        <module>findbugs-jsr305</module>
        <module>findbugs-annotations</module>
        <module>mysema-codegen</module>
        <module>querydsl-core</module>
        <module>querydsl-sql</module>
        <module>querydsl-jpa</module>
    </modules>

    <properties>
        <release.version>4</release.version>
        <activation.version>1.1</activation.version>
        <osgi.activation.version>${activation.version}-${release.version}</osgi.activation.version>
        <antlr.version>2.7.7</antlr.version>
        <osgi.antlr.version>${antlr.version}-${release.version}</osgi.antlr.version>
        <antlr-runtime.version>3.2</antlr-runtime.version>
        <osgi.antlr-runtime.version>${antlr-runtime.version}-${release.version}</osgi.antlr-runtime.version>
        <apache-log4j-extras.version>1.1</apache-log4j-extras.version>
        <osgi.apache-log4j-extras.version>${apache-log4j-extras.version}-${release.version}</osgi.apache-log4j-extras.version>
        <asm.version>3.1</asm.version>
        <osgi.asm.version>${asm.version}-${release.version}</osgi.asm.version>
        <aspectj.version>1.6.8</aspectj.version>
        <osgi.aspectj.version>${aspectj.version}-${release.version}</osgi.aspectj.version>
        <cglib-nodep.version>2.2</cglib-nodep.version>
        <osgi.cglib-nodep.version>${cglib-nodep.version}-${release.version}</osgi.cglib-nodep.version>
        <collections-generic.version>4.01</collections-generic.version>
        <osgi.collections-generic.version>${collections-generic.version}-${release.version}</osgi.collections-generic.version>
        <commons-codec.version>1.4</commons-codec.version>
        <osgi.commons-codec.version>${commons-codec.version}-${release.version}</osgi.commons-codec.version>
        <commons-configuration.version>1.7</commons-configuration.version>
        <osgi.commons-configuration.version>${commons-configuration.version}-${release.version}</osgi.commons-configuration.version>
        <commons-httpclient.version>3.1</commons-httpclient.version>
        <osgi.commons-httpclient.version>${commons-httpclient.version}-${release.version}</osgi.commons-httpclient.version>
        <dozer.version>5.3.2</dozer.version>
        <osgi.dozer.version>${dozer.version}-${release.version}</osgi.dozer.version>
        <ektorp.version>1.1.1</ektorp.version>
        <osgi.ektorp.version>${ektorp.version}-${release.version}</osgi.ektorp.version>
        <esper.version>4.4.0</esper.version>
        <osgi.esper.version>${esper.version}-${release.version}</osgi.esper.version>
        <findbugs.version>1.3.2</findbugs.version>
        <osgi.findbugs.version>${findbugs.version}-${release.version}</osgi.findbugs.version>
        <httpclient.version>4.1.2</httpclient.version>
        <osgi.httpclient.version>${httpclient.version}-${release.version}</osgi.httpclient.version>
        <httpcore.version>4.1.4</httpcore.version>
        <osgi.httpcore.version>${httpcore.version}-${release.version}</osgi.httpcore.version>
        <inject.version>1</inject.version>
        <osgi.inject.version>${inject.version}-${release.version}</osgi.inject.version>
        <jaxb-api.version>2.1</jaxb-api.version>
        <osgi.jaxb-api.version>${jaxb-api.version}-${release.version}</osgi.jaxb-api.version>
        <jcouchdb.version>1.0.1-1</jcouchdb.version>
        <osgi.jcouchdb.version>${jcouchdb.version}-${release.version}</osgi.jcouchdb.version>
        <jersey.version>1.8</jersey.version>
        <osgi.jersey.version>${jersey.version}-${release.version}</osgi.jersey.version>
        <liquibase.version>1.9.5</liquibase.version>
        <osgi.liquibase.version>${liquibase.version}-${release.version}</osgi.liquibase.version>
        <mail.version>1.4</mail.version>
        <osgi.mail.version>${mail.version}-${release.version}</osgi.mail.version>
        <mysema-codegen.version>0.4.7</mysema-codegen.version>
        <osgi.mysema-codegen.version>${mysema-codegen.version}-${release.version}</osgi.mysema-codegen.version>
        <postgresql.version>9.1-901-1.jdbc4</postgresql.version>
        <osgi.postgresql.version>${postgresql.version}-${release.version}</osgi.postgresql.version>
        <querydsl.version>2.3.2</querydsl.version>
        <osgi.querydsl.version>${querydsl.version}-${release.version}</osgi.querydsl.version>
        <stringtemplate.version>3.2</stringtemplate.version>
        <osgi.stringtemplate.version>${stringtemplate.version}-${release.version}</osgi.stringtemplate.version>
        <stax-api.version>1.0-2</stax-api.version>
        <osgi.stax-api.version>${stax-api.version}-${release.version}</osgi.stax-api.version>
        <svenson.version>1.3.8</svenson.version>
        <osgi.svenson.version>${svenson.version}-${release.version}</osgi.svenson.version>
    </properties>

    <build>
        <sourceDirectory>${project.build.directory}/sources</sourceDirectory>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <configuration>
                    <excludes>META-INF/MANIFEST.MF</excludes>
                </configuration>
                <executions>
                    <execution>
                        <id>unpack-dependencies</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <goal>unpack-dependencies</goal>
                        </goals>
                        <configuration>
                            <outputDirectory>${project.build.outputDirectory}</outputDirectory>
                        </configuration>
                    </execution>
                    <execution>
                        <id>unpack-dependencies-sources</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <goal>unpack-dependencies</goal>
                        </goals>
                        <configuration>
                            <classifier>sources</classifier>
                            <failOnMissingClassifierArtifact>false</failOnMissingClassifierArtifact>
                            <outputDirectory>${project.build.directory}/sources</outputDirectory>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <excludes>
                        <exclude>**/*</exclude>
                    </excludes>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.felix</groupId>
                <artifactId>maven-bundle-plugin</artifactId>
                <executions>
                    <execution>
                        <id>bundle-manifest</id>
                        <phase>process-classes</phase>
                        <goals>
                            <goal>manifest</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jar-plugin</artifactId>
                <configuration>
                    <archive>
                        <manifestFile>${project.build.outputDirectory}/META-INF/MANIFEST.MF</manifestFile>
                    </archive>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-source-plugin</artifactId>
                <executions>
                    <execution>
                        <id>attach-sources</id>
                        <phase>package</phase>
                        <goals>
                            <goal>jar-no-fork</goal>
                        </goals>
                        <configuration>
                            <excludeResources>true</excludeResources>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>
