<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	
	<parent>
		<artifactId>osgi-dependencies</artifactId>
		<groupId>com.nsn.cumulocity.dependencies.osgi</groupId>
		<version>7.26.0-SNAPSHOT</version>
	</parent>
	
	<artifactId>postgresql</artifactId>
	<version>${osgi.postgresql.version}</version>
	<name>Cumulocity Dependencies :: OSGi Dependencies :: PostgreSQL Connector</name>
	<url>http://startups.jira.com/wiki/display/MTM/Home</url>
	
	<dependencies>
		<dependency>
			<groupId>postgresql</groupId>
			<artifactId>postgresql</artifactId>
			<version>${postgresql.version}</version>
			<scope>provided</scope>
		</dependency>
	</dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <configuration>
                    <includeGroupIds>postgresql</includeGroupIds>
                    <includeArtifactIds>postgresql</includeArtifactIds>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.felix</groupId>
                <artifactId>maven-bundle-plugin</artifactId>
                <configuration>
                    <instructions>
                        <Bundle-License>http://jdbc.postgresql.org/license.html</Bundle-License>
                        <Bundle-DocURL>http://jdbc.postgresql.org/</Bundle-DocURL>
                    </instructions>
                </configuration>
            </plugin>
        </plugins>
    </build>

	<profiles>
		<profile>
			<id>kpi</id>

			<properties>
				<unpack.target.directory>${project.build.directory}/unwoven-classes</unpack.target.directory>
			</properties>

			<dependencies>
				<dependency>
					<groupId>com.nsn.cumulocity.dependencies.kpi</groupId>
					<artifactId>kpi-logger</artifactId>
					<version>${parent.version}</version>
				</dependency>
                <dependency>
		            <groupId>org.aspectj</groupId>
		            <artifactId>aspectjrt</artifactId>
		        </dependency>
			</dependencies>

			<build>
				<plugins>
					<plugin>
						<groupId>org.codehaus.mojo</groupId>
						<artifactId>aspectj-maven-plugin</artifactId>
						<configuration>
                            <aspectLibraries>
                                <aspectLibrary>
                                    <groupId>com.nsn.cumulocity.dependencies.kpi</groupId>
                                    <artifactId>kpi-logger</artifactId>
                                </aspectLibrary>
                            </aspectLibraries>
							<weaveDirectories>
								<weaveDirectory>${project.build.directory}/unwoven-classes</weaveDirectory>
							</weaveDirectories>
						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>
	</profiles>
	
</project>
